import{U as p,a as u,j as s,F as j,h as o,i as t,k as n,a2 as c,a0 as l,B as w,V as f,a3 as g,a4 as b,a5 as C}from"./index-DxBtr4UR.js";import{a as y}from"./user-DFNFXPrf.js";function _(){const{toastSuccess:d,toastError:m}=p(),{mutateAsync:x}=y(),a=u({defaultValues:{old_password:"",new_password:"",confirm_password:""},resolver:f(g),shouldFocusError:!1}),i=async({new_password:e,old_password:h})=>{try{const r=await x({new_password:e,old_password:h});d("Change password successfully!"),b.set(C.ACCESS_TOKEN,r.access_token)}catch(r){m(r.message)}finally{a.reset()}};return s.jsxs("div",{className:"p-4 bg-gray-100 min-h-screen",children:[s.jsx("h3",{className:"text-xl text-center",children:"Change your password"}),s.jsx(j,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(i),className:"flex flex-col gap-y-4 mt-4",children:[s.jsx(o,{control:a.control,name:"old_password",render:({field:e})=>s.jsxs(t,{children:[s.jsx(n,{children:s.jsx(c,{placeholder:"Your password",...e,className:"text-base h-[50px]"})}),s.jsx(l,{})]})}),s.jsx(o,{control:a.control,name:"new_password",render:({field:e})=>s.jsxs(t,{children:[s.jsx(n,{children:s.jsx(c,{placeholder:"Your password",...e,className:"text-base h-[50px]"})}),s.jsx(l,{})]})}),s.jsx(o,{control:a.control,name:"confirm_password",render:({field:e})=>s.jsxs(t,{children:[s.jsx(n,{children:s.jsx(c,{placeholder:"Confirm password",...e,className:"text-base h-[50px]"})}),s.jsx(l,{})]})}),s.jsx(w,{type:"submit",className:"mt-5",disabled:a.formState.isSubmitting,children:"Change password"})]})})]})}export{_ as default};
